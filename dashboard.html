<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title> Dashboard  - Laravel</title>
	<!--STYLESHEET-->
	<!--=================================================-->
	<!--Open Sans Font [ OPTIONAL ]-->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
	<!--Bootstrap Stylesheet [ REQUIRED ]-->
	<link href="http://127.0.0.1:8000/css/bootstrap.min.css" rel="stylesheet">
	<!--Nifty Stylesheet [ REQUIRED ]-->
	<link href="http://127.0.0.1:8000/css/nifty.min.css" rel="stylesheet">
	<!--Nifty Premium Icon [ DEMONSTRATION ]-->
	<!-- <link href="http://127.0.0.1:8000/css/demo/nifty-demo-icons.min.css" rel="stylesheet"> -->
	<!-- PARTICLES -->
	<link href="http://127.0.0.1:8000/css/particles.css" rel="stylesheet">
	<!-- PARTICLES -->

	<!--custom.css [ OPTIONAL ]-->
<link href="http://127.0.0.1:8000/css/custom.css" rel="stylesheet">
<link href="http://127.0.0.1:8000/css/stylemashable.css" rel="stylesheet">
<link rel="stylesheet" href="http://127.0.0.1:8000/css/icofont.min.css">
<link href="http://127.0.0.1:8000/plugins/datatables/media/css/dataTables.bootstrap.css" rel="stylesheet">
<link href="http://127.0.0.1:8000/plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet">
<style media="screen">
.icofont{
  font-size: 35px;
}
</style>
  	<!--=================================================-->
		<!--Demo [ DEMONSTRATION ]-->
	<!-- <link href="http://127.0.0.1:8000/css/demo/nifty-demo.min.css" rel="stylesheet"> -->
	<!--Font Awesome [ OPTIONAL ]-->
	<link href="http://127.0.0.1:8000/css/font-awesome.min.css" rel="stylesheet">

    
	
	
	
    <!--Morris.js [ OPTIONAL ]-->
		
	<!--<link href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">
	<link href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css" rel="stylesheet">-->

	
	<link href="http://127.0.0.1:8000/plugins/datatables/semantic.min.css" rel="stylesheet">
	<!-- <link href="http://127.0.0.1:8000/plugins/flag-icon-css/css/flag-icon.min.css" rel="stylesheet"> -->
	    <!--Ion Icons [ OPTIONAL ]-->
	<!-- <link href="http://127.0.0.1:8000/plugins/ionicons/css/ionicons.min.css" rel="stylesheet"> -->
</head>

<body>
	<div id="container" class="effect aside-float aside-bright mainnav-lg">

		<!--NAVBAR-->
		<!--===================================================-->
		<header id="navbar">
			<div id="navbar-container" class="boxed">
				<!--Brand logo & name-->
				<!--================================-->
				<div class="navbar-header">
					<a href="http://127.0.0.1:8000/dashboard" class="navbar-brand">
						<img src="http://127.0.0.1:8000/img/logo.png" alt="Nifty Logo" class="brand-icon">
						<div class="brand-title">
							<span class="brand-text">TRUE CHURCH CHURCH</span>
						</div>
					</a>
				</div>
				<!--================================-->
				<!--End brand logo & name-->
				<!--Navbar Dropdown-->
				<!--================================-->
				<div class="navbar-content">
					<ul class="nav navbar-top-links">
						<!--Navigation toogle button-->
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<li class="tgl-menu-btn">
							<a class="mainnav-toggle" href="#">
								<i class="fa fa-bars"></i>
							</a>
						</li>
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<!--End Navigation toogle button-->
						<!--Search-->
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<li>
							<div class="custom-search-form">
								<label class="btn btn-trans" for="search-input" data-toggle="collapse" data-target="#nav-searchbox">
									<i class="demo-pli-magnifi-glass"></i>
								</label>
								<form>
									<div class="search-container collapse" id="nav-searchbox">
										<input id="search-input" type="text" class="form-control" placeholder="Type for search...">
									</div>
								</form>
							</div>
						</li>
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<!--End Search-->
					</ul>
					<ul class="nav navbar-top-links">
						<li class="dropdown">
								<a href="http://127.0.0.1:8000/notification">
									<i class="fa fa-bullhorn fa-3x" aria-hidden="true"></i> Announcement &nbsp;&nbsp;&nbsp
										<span class="badge badge-header badge-danger"></span>
								</a>



								<!--Notification dropdown menu-->

						</li>
						<!--User dropdown-->
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<li id="dropdown-user" class="dropdown">
							<a href="#" data-toggle="dropdown" class="dropdown-toggle text-right">
								<span class="ic-user pull-right">
									<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
									<!--You can use an image instead of an icon.-->
									<!--<img class="img-circle img-user media-object" src="img/profile-photos/1.png" alt="Profile Picture">-->
									<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
									<i class="fa fa-user"> Hello TRUE FAITH CHURCH</i>
								</span>
								<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
								<!--You can also display a user name in the navbar.-->
								<!--<div class="username hidden-xs">Aaron Chavez</div>-->
								<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
							</a>
							<div class="dropdown-menu dropdown-menu-sm dropdown-menu-right panel-default">
								<ul class="head-list">
									<li>
	                  <form method="POST" action="http://127.0.0.1:8000/logout">
	                  <input type="hidden" name="_token" value="So38NmazU88gSfXAN4acKopxt9VUjfWqZCwiJWUe">	                  <button type="submit"><i class="demo-pli-unlock icon-lg icon-fw"></i> Logout</button>
	                  </form>
									</li>
								</ul>
							</div>
						</li>
						<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
						<!--End user dropdown-->
					</ul>
				</div>
				<!--================================-->
				<!--End Navbar Dropdown-->
			</div>
		</header>
		<!--===================================================-->
		<!--END NAVBAR-->
		<div class="boxed">
			<!--CONTENT CONTAINER-->
			<!--===================================================-->
            <!--CONTENT CONTAINER-->
<!--===================================================-->
<div id="content-container">
  <div id="page-head">
    <hr class="new-section-sm bord-no">
    <div class="text-center">
      <h3>Welcome to <strong>TRUE FAITH CHURCH</strong> Dashboard.</h3>
      <!--<p>Check out your past searches and the content youâ€™ve browsed in. <a href="dashboard" class="btn-link">View last results</a></p>-->
    </div>
    <!-- <hr class="new-section-md bord-no"> -->
  </div>
    <!--Page content-->
    <!--===================================================-->
  <div id="page-content">
    <div class="row" >
     <!-- <div class="col-lg-10 col-lg-offset-2">
</div> -->
      <style>
      .img-center {        display: block;        margin-left: auto;        margin-right: auto;        width: 80%;      }
      </style>
    </div>

  <div class="panel">
    <div class="panel-body">
      <div class="row mar-top">
        <!--Tile-->
        <!--===================================================-->
        <div class=" panel-primary panel-colorful col-md-3 col-xs-6">
            <div class="pad-all text-center">
              <span class="text-3x text-thin">1</span>
              <p>Parishes</p>
              <i class="icofont icofont-building-alt text-success"></i>
            </div>
        </div>
        <!--===================================================-->


        <!--Tile-->
        <!--===================================================-->
        <div class=" panel-warning panel-colorful col-md-3 col-xs-6">
            <div class="pad-all text-center">
              <span class="text-3x text-thin">1</span>
              <p>Members</p>
              <i class="icofont icofont-ui-user-group text-success"></i>
            </div>
        </div>
        <!--===================================================-->


        <!--Tile-->
        <!--===================================================-->
        <div class=" panel-purple panel-colorful col-md-3 col-xs-6">
            <div class="pad-all text-center">
                <span class="text-3x text-thin">0</span>
                <p>Workers</p>
                <i class="icofont icofont-workers-group text-success"></i>
            </div>
        </div>
        <!--===================================================-->


        <!--Tile-->
        <!--===================================================-->
        <div class=" panel-dark panel-colorful col-md-3 col-xs-6">
            <div class="pad-all text-center">
              <span class="text-3x text-thin">0</span>
              <p>Pastors</p>
              <i class="icofont icofont-man-in-glasses text-success"></i>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel">

      <!--Chart information-->
      <div class="panel-body">
          <div class="row mar-top">
              <div class="col-md-4 text-center">
                  <h3 class="text-main text-normal text-2x mar-no">Member Stats</h3>
                  <!-- <h5 class="text-uppercase text-muted text-normal">Report for last 12 Months</h5> -->
                  <div class="row mar-top">
                    <div class="col">
                        <table class="table table-condensed table-trans">
                            <tr>
                                <td class="text-lg" style="width: 40px">
                                  <span class="badge badge-purple" style="background-color: #FF0000" id="member-male">0</span></td>
                                <td>Male</td>
                            </tr>
                            <tr>
                                <td class="text-lg">
                                  <span class="badge badge-dark" style="background-color: #00FF00" id="member-female">0</span></td>
                                <td>Female</td>
                            </tr>
                            <hr>
                            <tr>
                              <td>
                                <div class="text-sm"><p class="text-5x text-thin text-main mar-no"><span class="badge badge-primary" id="member-total">N0</span></p></div>
                              </td>
                            </tr>
                        </table>
                    </div>
                  </div>
              </div>
              <div class="col-md-8">
                  <div id="users-chart" style="height:230px"></div>
              </div>
          </div>
      </div>
  </div>

  <div class="panel">
    <div id="manual-analysis-hd" class="text-center bg-primary">
    </div>
      <!--Chart information-->
      <div class="panel-body">
          <div class="row mar-top">
              <div class="col-md-4">
                  <h3 class="text-main text-normal text-2x mar-no">Collection Stats</h3>
                  <!-- <h5 class="text-uppercase text-muted text-normal">Report for last 12 Months</h5> -->
                  <div class="row mar-top">
                      <div class="col">
                          <table class="table table-condensed table-trans">
                                                                                    <tr>
                                <td class="text-lg" style="width: 40px"><span style="background-color: #FF0000"
                                  class="badge badge-purple" id="collection-Special_Offering">N0</span></td>
                                <td>Special Offering</td>
                            </tr>
                                                                                    <tr>
                                <td class="text-lg" style="width: 40px"><span style="background-color: #00FF00"
                                  class="badge badge-purple" id="collection-Special_offering">N0</span></td>
                                <td>Special Offering</td>
                            </tr>
                                                                                    <hr>
                            <tr>
                              <td>
                                <div class="text-sm"><p class="text-5x text-thin text-main mar-no">
                                  <span class="badge badge-primary" id="collection-total">N0</span></p>
                                </div>
                              </td>
                            </tr>
                          </table>
                      </div>
                  </div>
              </div>
                            <div class="col-md-8">
                <div class="row">
                                    <div class="col-xs-4">
                    <label for="show" class="">Show</label>
                    <select id="show" required style="outline:none;" name="sort" class="selectpicker col-md-12" data-style="btn-primary">
                      <option selected value="false">This Parish</option>
                      <option value="true">All Parishes</option>
                    </select>
                  </div>
                                    <div class="col-xs-4">
                    <label for="group" class="">Group By</label>
                    <select id="group" required style="outline:none;" name="sort" class="selectpicker col-md-12" data-style="btn-primary">
                      <option value="1">Days</option>
                      <option value="2">Weeks</option>
                      <option selected value="3">Months</option>
                      <option value="4">Years</option>
                    </select>
                  </div>
                  <div class="col-xs-4">
                    <label for="range" class="">Select Range</label>
                    <select id="m-i" required style="outline:none;" name="range" class="selectpicker col-md-12 nav nav-pills ranges" data-style="btn-primary">
                      <option selected disabled value="">Choose Number of Months</option>
                                            <option value="1">Last1 Months</option>
                                            <option value="2">Last2 Months</option>
                                            <option value="3">Last3 Months</option>
                                            <option value="4">Last4 Months</option>
                                            <option value="5">Last5 Months</option>
                                            <option value="6">Last6 Months</option>
                                            <option value="7">Last7 Months</option>
                                            <option value="8">Last8 Months</option>
                                            <option value="9">Last9 Months</option>
                                            <option value="10">Last10 Months</option>
                                            <option value="11">Last11 Months</option>
                                            <option value="12">Last12 Months</option>
                                          </select>
                  </div>
                </div>
                <div id="stats-container" class="legendInline" style="height: 250px;"></div>
                  <!-- <div id="collection-chart" style="height:230px"></div> -->
              </div>
          </div>
      </div>
  </div>

  <div class="panel">

      <!--Chart information-->
      <div class="panel-body">
          <div class="row mar-top">
              <div class="col-md-4">
                  <h3 class="text-main text-normal text-2x mar-no">Attendance Stats</h3>
                  <!-- <h5 class="text-uppercase text-muted text-normal">Report for last 12 Months</h5> -->
                  <div class="row mar-top">
                      <div class="col">
                          <table class="table table-condensed table-trans">
                              <tr>
                                  <td class="text-lg" style="width: 40px">
                                    <span class="badge badge-purple" style="background-color: #FF0000" id="attendance-male">0</span></td>
                                  <td>Male</td>
                              </tr>
                              <tr>
                                  <td class="text-lg">
                                    <span class="badge badge-dark" style="background-color: #00FF00" id="attendance-female">0</span></td>
                                  <td>Female</td>
                              </tr>
                              <tr>
                                  <td class="text-lg">
                                    <span class="badge badge-danger" style="background-color: #0000FF" id="attendance-children">0</span></td>
                                  <td>Children</td>
                              </tr>
                              <hr>
                              <tr>
                                <td>
                                  <div class="text-sm"><p class="text-5x text-thin text-main mar-no"><span class="badge badge-primary" id="attendance-total">N0</span></p></div>
                                </td>
                              </tr>
                          </table>
                      </div>
                  </div>
              </div>
              <div class="col-md-8">
                  <div id="attendance-chart" style="height:230px"></div>
              </div>
          </div>
      </div>
  </div>

  <div class="row">
        <div class="col-md-6">
        <div class="panel">
          <div class="panel-heading"> <!--body text-center"-->
              <h3 class="panel-title"><strong>Wedding Anniversarie(s) For September 2022</strong> </h3>
              <!--i class="demo-pli-coin icon-4x"></i-->
          </div>
            <div class="panel-body text-center clearfix">
                              <p class="text-danger"> No Anniversary </p>
                            </div>
        </div>
    </div>


      <div class="col-md-6">
          <div class="panel">
            <div class="panel-heading"> <!--body text-center"-->
                <h3 class="panel-title"><strong>Birthday(s) For September 2022</strong> </h3>
                <!--i class="demo-pli-coin icon-4x"></i-->
            </div>
              <div class="panel-body text-center clearfix">
                                  <p class="text-danger"> No Birthday </p>
                                </div>
          </div>
      </div>
  </div>

  <div class="panel">
    <div class="panel-body">
      <div class="row mar-top">
        <div class="col-md-3">
          <div class="pad-all text-center">
              <span class="pad-ver text-main text-sm text-uppercase text-bold">Total Due Collections Commission</span>
              <p class="text-sm">21st September 2022</p>
              <p class="text-2x text-main"><span id="due-commission">0</span> </p>
              <a href="http://127.0.0.1:8000/branch/invoice" class="btn btn-block btn-success mar-top">Pay Now</a>
          </div>
          <hr class="new-section-xs">


        </div>

        <div class="col-md-5">
          <h3 class="text-center">Due Collections</h3>
          <div class="table-responsive">
            <table id="due-collection" class="table table-sm table-striped table-bordered nowrap">
              <thead>
                <tr class="bg-success">
                  <th>Date</th>
                  <th>Service Type</th>
                  <th>Amount</th>
                  <th>Commission 0%</th>
                </tr>
              </thead>
              <tbody>
                                              </tbody>
              <tfoot>
                <tr class="bg-dark">
                  <th>Total</th>
                  <th></th>
                  <th>â‚±0</th>
                  <th>â‚±0</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>

                <div class="col-md-4">
          <h3 class="text-center">Parishes Owning</h3>
          <div class="table-responsive">
            <table id="owning-table" class="table table-sm table-striped table-bordered nowrap">
              <thead>
                <tr class="bg-success">
                  <th>Name</th>
                  <th>Amount</th>
                </tr>
              </thead>
              <tbody>
                                              </tbody>
              <tfoot>
                <tr class="bg-dark">
                  <th>Total</th>
                  <th>â‚±0</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
              </div>
    </div>
  </div>

  <div class="row">
            <div class="col-md-6">
          <div class="panel">
              <div class="panel-heading">
                <h1 class="text-bold text-center ji">Upcoming Events for TRUE FAITH CHURCH</h1>
              </div>
                                  <div class="panel-footer text-center">
                  <!-- <button class="btn btn-sm btn-Default">Load mre</button> -->
                                      <p class="text-danger" > No Event </p>
                                    <button onclick="window.location.replace(`http://127.0.0.1:8000/calendar`)" class="btn btn-sm btn-primary"><i class="icofont icofont-plus m-r-0"></i></button>
              </div>
          </div>
      </div>

      <div class="col-md-6">
                  <div class="panel">
              <div class="panel-heading">
                  <h1 class="text-bold text-center ji">Announcement Board</h1>
              </div>
                                  <div class="panel-footer text-center">
                                  <p class="text-danger" > No New Announcement </p>
                                <button onclick="window.location.replace(`http://127.0.0.1:8000/notification`)" class="btn btn-sm btn-primary"><i class="icofont icofont-plus m-r-0"></i></button>
              </div>
          </div>
      </div>
  </div>


  <div class="row">
        <div class="col-xs-12">
        <div class="panel">
            <div class="panel-heading">
              <h1 class="text-bold text-center ji">Payment Status</h1>
            </div>

            <!--Data Table-->
            <!--===================================================-->
            <div class="panel-body">
                <div class="table-responsive">
                    <table id="order-table" class="table table-striped">
                        <thead>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--===================================================-->
            <!--End Data Table-->

        </div>
    </div>
        <div class="col-md-12">

         <div class="row">
            <div class="col-sm-12">
              <div class="panel" style="background-color: #e8ddd3;">

                  <!-- Striped Table -->
                  <!--===================================================-->
                  <!-- <div class="panel-body">
                    <div class="" style="width: 100%; height: 500px;" id="map-area">
                      { !  ! Mapper::render() !!}
                    </div>
                  </div> -->
                  <!--===================================================-->
                  <!-- End Striped Table -->
              </div>
          </div>
      </div>
    </div>

  </div>


</div>
    <!--===================================================-->
    <!--End page content-->

</div>
			<!--===================================================-->
			<!--END CONTENT CONTAINER-->
			<!--MAIN NAVIGATION-->
			<!--===================================================-->
			<nav id="mainnav-container">
				<div id="mainnav">
					<!--Menu-->
					<!--================================-->
					<div id="mainnav-menu-wrap">
						<div class="nano">
							<div class="nano-content">
								<!--Profile Widget-->
								<!--================================-->
								<div id="mainnav-profile" class="mainnav-profile">
									<div class="profile-wrap text-center">
										<div class="pad-btm">
											<img class="img-circle img-md" src="http://127.0.0.1:8000/images/logo.png" alt="Profile Picture">
										</div>
										<a href="dashboardprofile-nav" class="box-block" data-toggle="collapse" aria-expanded="false">
											<span class="pull-right dropdown-toggle">
												<i class="dropdown-caret"></i>
											</span>
											<p class="mnp-name"><!--span class="flag-icon flag-icon-ng"></span--> TRUE FAITH CHURCH</p>
											<p class="mnp-desc">TFC0001</p>
										</a>
									</div>
								</div>
                                                                <!--Shortcut buttons-->                                                                <!--================================-->                                                                <div id="mainnav-shortcut" class="hidden">
									<ul class="list-unstyled shortcut-wrap">
										<li class="col-xs-3" data-content="My Profile">
											<a class="shortcut-grid" href="dashboard">
												<div class="icon-wrap icon-wrap-sm icon-circle bg-mint">
													<i class="fa fa-user"></i>
												</div>
											</a>
										</li>
										<li class="col-xs-3" data-content="Messages">
											<a class="shortcut-grid" href="dashboard">
												<div class="icon-wrap icon-wrap-sm icon-circle bg-warning">
													<i class="demo-pli-speech-bubble-3"></i>
												</div>
											</a>
										</li>
										<li class="col-xs-3" data-content="Activity">
											<a class="shortcut-grid" href="dashboard">
												<div class="icon-wrap icon-wrap-sm icon-circle bg-success">
													<i class="demo-pli-thunder"></i>
												</div>
											</a>
										</li>
										<li class="col-xs-3" data-content="Lock Screen">
											<a class="shortcut-grid" href="dashboard">
												<div class="icon-wrap icon-wrap-sm icon-circle bg-purple">
													<i class="demo-pli-lock-2"></i>
												</div>
											</a>
										</li>
									</ul>
								</div>
								<!--================================-->
								<!--End shortcut buttons-->
								<ul id="mainnav-menu" class="list-group">
									<!--Category name-->
									<li class="list-header text-center">Navigation</li>
									<li class="list-divider"></li>
									<!--Menu list item-->
									<li class="active-sub active">
										<a href="http://127.0.0.1:8000/dashboard">
											<i class="fa fa-dashboard"></i>
											<!--<i class="demo-pli-home"></i>-->
											<span class="menu-title">Dashboard</span>
											<!--<i class="arrow"></i>-->
										</a>
									</li>
									<!--Category name-->
									<!--<li class="list-header">Components</li>-->
									<!--Menu list item-->

                  <li class="
                  	">

										<a href="http://127.0.0.1:8000/members/all">
											<i class="fa fa-users"></i>
											<span class="menu-title">Members</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
											<li class="">
												<a href="http://127.0.0.1:8000/members/all"><i class="fa fa-list"></i> All Members</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/member/register"><i class="fa fa-registered"></i> Registration</a>
                      </li>
										</ul>
									</li>
									<!--Menu list item-->
                  <li class="
									">
										<a href="#">
											<i class="fa fa-check"></i>
											<span class="menu-title">Attendance</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
											<li class="">
												<a href="http://127.0.0.1:8000/attendance"><i class="fa fa-save"></i> Mark Attendance</a>
											</li>
                      <li class="">
	                      <a href="http://127.0.0.1:8000/attendance/view"><i class="fa fa-eye"></i> View Attendance</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/attendance/analysis"><i class="fa fa-signal"></i> Analysis</a>
											</li>
										</ul>
									</li>
									<!--Menu list item-->
									<li class="">
										<a href="#">
											<i class="fa fa-money"></i>
											<span class="menu-title">Collection</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
											<li class="">
												<a href="http://127.0.0.1:8000/collection/offering"><i class="fa fa-save"></i> Save Collection</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/collection/report"><i class="fa fa-eye"></i> View Collection</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/collection/analysis"><i class="fa fa-signal"></i> Analysis</a>
											</li>

										</ul>

									</li>
									<li class="">
										<a href="http://127.0.0.1:8000/groups">
											<i class="fa fa-users"></i>
											<span class="menu-title">Small Groups</span>

										</a>
									</li>
									<li class="">
										<a href="#">
											<i class="fa fa-comments-o"></i>
											<span class="menu-title">Messaging</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
											<li class="">
												<a href="http://127.0.0.1:8000/messaging/email"><i class="fa fa-envelope"></i> Email</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/messaging/sms"><i class="fa fa-mobile"></i> Bulk SMS</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/inbox"><i class="fa fa-comments"></i> Communicator</a>
											</li>

										</ul>
									</li>
									<!-- @ if (\Auth::user()->isAdmin()) -->
									<li class="">
										<a href="#">
											<i class="fa fa-building-o"></i>
											<span class="menu-title">Admin Tools</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
																						<li class="">
												<a href="http://127.0.0.1:8000/branches"><i class="fa fa-tree"></i> Branches</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/branches/register"><i class="fa fa-plus"></i> Add New Branch</a>
											</li>
											<li class="">
												<a href="http://127.0.0.1:8000/branches/tools"><i class="fa fa-wrench"></i> Tools</a>
											</li>
																						<li class="">
												<a href="http://127.0.0.1:8000/branches/options"><i class="fa fa-cog"></i> Options</a>
											</li>

										</ul>
									</li>
									<!-- @ endif -->
									<li class="">
										<a href="http://127.0.0.1:8000/calendar">
											<i class="fa fa-calendar"></i>
											<span class="menu-title">Calendar & Events</span>
											<!--<i class="arrow"></i>-->
										</a>
									</li>
									<li class="">
										<a href="#">
											<i class="fa fa-signal"></i>
											<span class="menu-title">Reports</span>
											<i class="arrow"></i>
										</a>
										<ul class="collapse">
																						<li class="">
												<li class="">
													<a href="#">
														<i class="fa fa-users"></i>
														<span class="menu-title">Membership</span>
														<i class="arrow"></i>
													</a>
													<ul class="collapse">
														<li class="">
															<a href="http://127.0.0.1:8000/report/membership/all"><i class="fa fa-level-up"></i> All Branches</a>
														</li>
														<li class="">
															<a href="http://127.0.0.1:8000/report/membership"><i class="fa fa-map-marker"></i> This Branch</a>
														</li>
													</ul>
												</li>
												<li class="">
													<a href="#">
														<i class="fa fa-money"></i>
														<span class="menu-money">Collections</span>
														<i class="arrow"></i>
													</a>
													<ul class="collapse">
														<li class="">
															<a href="http://127.0.0.1:8000/report/collections/all"><i class="fa fa-level-up"></i> All Branches</a>
														</li>
														<li class="">
															<a href="http://127.0.0.1:8000/report/collections"><i class="fa fa-map-marker"></i> This Branch</a>
														</li>
													</ul>
												</li>
												<li class="">
													<a href="#">
														<i class="fa fa-check"></i>
														<span class="menu-mark">Attendance</span>
														<i class="arrow"></i>
													</a>
													<ul class="collapse">
														<li class="">
															<a href="http://127.0.0.1:8000/report/attendance/all"><i class="fa fa-level-up"></i> All Branches</a>
														</li>
														<li class="">
															<a href="http://127.0.0.1:8000/report/attendance"><i class="fa fa-map-marker"></i> This Branch</a>
														</li>
													</ul>
												</li>

											</li>

																					</ul>
									</li>
									<li class="">
	                  <a href="http://127.0.0.1:8000/ticket">
                      <i class="fa fa-life-ring"></i>
                      <span class="menu-title">Ticket</span>
	                  </a>
	                </li>
									<li>
										<form id="logout" method="POST" action="http://127.0.0.1:8000/logout">
		                  <input type="hidden" name="_token" value="So38NmazU88gSfXAN4acKopxt9VUjfWqZCwiJWUe">										</form>
										<a href="#" onclick="$('#logout').submit()">
											<i class="fa fa-sign-out"></i>
											<span class="menu-title">Logout</span>
										</a>
									</li>
									<!--Menu list item-->
									<li class="list-divider"></li>
									<!--Category name-->
									<!--Menu list item-->
								</ul>
							</div>
						</div>
					</div>
					<!--================================-->
					<!--End menu-->
				</div>
			</nav>
			<!--===================================================-->
			<!--END MAIN NAVIGATION-->
		</div>
		<!-- FOOTER -->
		<!--===================================================-->
		<footer id="footer">

			<!-- Visible when footer positions are fixed -->
			<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
			<div class="show-fixed pad-rgt pull-right">
				You have
				<a href="forms-general.html#" class="text-main">
					<span class="badge badge-danger">3</span> pending action.</a>
			</div>
			<!-- Visible when footer positions are static -->
			<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
			<div class="hide-fixed pull-right pad-rgt">
			Powered By <a href="https://myckhel.adbin.com.ng" style="color:#274868;font-weight:bolder"> Myckhel </a>
			</div>
			<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
			<!-- Remove the class "show-fixed" and "hide-fixed" to make the content always appears. -->
			<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
			<p class="pad-lft">&#0169; 2022 Laravel</p>
		</footer>
		<!--===================================================-->
		<!-- END FOOTER -->
		<!-- SCROLL PAGE BUTTON -->
		<!--===================================================-->
		<button class="scroll-top btn">
			<i class="pci-chevron chevron-up"></i>
		</button>
		<!--===================================================-->
	</div>
	<!--===================================================-->
	<!-- END OF CONTAINER -->
	<!--JAVASCRIPT-->
	<!--=================================================-->
	<!--jQuery [ REQUIRED ]-->
	<script src="http://127.0.0.1:8000/js/jquery.min.js"></script>
	<!--BootstrapJS [ RECOMMENDED ]-->
	<script src="http://127.0.0.1:8000/js/bootstrap.min.js"></script>
	<!-- <script src="http://127.0.0.1:8000/js/popper.min.js"></script>
	<script src="http://127.0.0.1:8000/js/jquery-3.2.1.slim.min.js"></script> -->
	<!--NiftyJS [ RECOMMENDED ]-->
	<script src="http://127.0.0.1:8000/js/nifty.min.js"></script>
	<!-- PARTICLES -->
	<script src="http://127.0.0.1:8000/js/particles.min.js"></script>
	<!-- PARTICLES -->
  
	
	
		
		
		
		

  
	
<!-- FOR ATTENDANCE ANALYSIS -->
<!-- FOR ATTENDANCE ANALYSIS -->

<!-- FOR ATTENDANCE MARK -->
<!-- FOR ATTENDANCE MARK -->

<!-- Head Office -->



<script>
$(document).ready(() => {

	particlesJS('page-head',

	  {
	    "particles": {
	      "number": {
	        "value": 150,
	        "density": {
	          "enable": true,
	          "value_area": 800
	        }
	      },
	      "color": {
	        "value": "#ffffff"
	      },
	      "shape": {
	        "type": "circle",
	        "stroke": {
	          "width": 0,
	          "color": "#000000"
	        },
	        "polygon": {
	          "nb_sides": 5
	        },
	        "image": {
	          "src": "img/github.svg",
	          "width": 100,
	          "height": 100
	        }
	      },
	      "opacity": {
	        "value": 0.5,
	        "random": false,
	        "anim": {
	          "enable": false,
	          "speed": 1,
	          "opacity_min": 0.1,
	          "sync": false
	        }
	      },
	      "size": {
	        "value": 5,
	        "random": true,
	        "anim": {
	          "enable": false,
	          "speed": 40,
	          "size_min": 0.1,
	          "sync": false
	        }
	      },
	      "line_linked": {
	        "enable": true,
	        "distance": 150,
	        "color": "#ffffff",
	        "opacity": 0.4,
	        "width": 1
	      },
	      "move": {
	        "enable": true,
	        "speed": 6,
	        "direction": "none",
	        "random": false,
	        "straight": false,
	        "out_mode": "out",
	        "attract": {
	          "enable": false,
	          "rotateX": 600,
	          "rotateY": 1200
	        }
	      }
	    },
	    "interactivity": {
	      "detect_on": "canvas",
	      "events": {
	        "onhover": {
	          "enable": true,
	          "mode": "repulse"
	        },
	        "onclick": {
	          "enable": true,
	          "mode": "push"
	        },
	        "resize": true
	      },
	      "modes": {
	        "grab": {
	          "distance": 400,
	          "line_linked": {
	            "opacity": 1
	          }
	        },
	        "bubble": {
	          "distance": 400,
	          "size": 40,
	          "duration": 2,
	          "opacity": 8,
	          "speed": 3
	        },
	        "repulse": {
	          "distance": 200
	        },
	        "push": {
	          "particles_nb": 4
	        },
	        "remove": {
	          "particles_nb": 2
	        }
	      }
	    },
	    "retina_detect": true,
	    "config_demo": {
	      "hide_card": false,
	      "background_color": "#b61924",
	      "background_image": "",
	      "background_position": "50% 50%",
	      "background_repeat": "no-repeat",
	      "background_size": "cover"
	    }
	  }

	);

})
</script>

<script src="http://127.0.0.1:8000/plugins/flot-charts/jquery.flot.min.js"></script>
<script src="http://127.0.0.1:8000/plugins/datatables/media/js/jquery.dataTables.js"></script>
<script src="http://127.0.0.1:8000/plugins/datatables/media/js/dataTables.bootstrap.js"></script>
<script src="http://127.0.0.1:8000/plugins/bootstrap-select/bootstrap-select.min.js"></script>
<!--Morris.js [ OPTIONAL ]-->
<script src="http://127.0.0.1:8000/plugins/morris-js/morris.min.js"></script>
<script src="http://127.0.0.1:8000/plugins/morris-js/raphael-js/raphael.min.js"></script>
<script src="http://127.0.0.1:8000/js/functions.js"></script>
<script>
function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

var manual_analysis_hd = (data) => {
  let collection = data.data
  let middle = '';
  nameTotal = []
  let total = 0;
  data.c_types.forEach((i, v) => {
    let name = i.name;
    collection.forEach((c) => {
      nameTotal[name] = (parseInt(nameTotal[name]) + parseInt(c[name])) || parseInt(c[name])
      total +=  parseInt(c[name])
      })
      middle += '<div  id="'+name+'" class="col-xs-2 small adaptive-color" style="">'+name+': '+numberWithCommas(parseInt(nameTotal[name]) || 0)+'</div>';
    })
  return `
  <marquee>
  <div id="manual-analysis-hd" class="panel-heading bg-primary">
    <div class="col-xs-12 text-center">
      <div class="col-xs-12 panel-title">
        <div  id="specifier" class="col-xs-2 small adaptive-color" style="">Within Last ${data.interval} ${data.group}s  </div>
        ${middle}
        <div  id="total" class="col-xs-2 small adaptive-color" style="">Total: ${numberWithCommas(total)}</div>
      </div>
    </div>
  </div>
  </marquee>
  `
}
var group = 'month';
var show = false;
var interval = 8
var switchSelect = (to) => {
  let rangeMin = 1; let rangeMax = 7
  if(to == 1){  group = 'day';    rangeMin = 1; rangeMax = 7  }
  if(to == 3){   group = 'month';  rangeMin = 1; rangeMax = 12  }
  if(to == 2){  group = 'week';    rangeMin = 10; rangeMax = 30 }
  if(to == 4){  group = 'year';    rangeMin = 1; rangeMax = 10  }
  $('#m-i').html($('<option>'
  , { value: 0,
      text : 'Choose range',
      selected: 'selected',
      disabled: true,
  }, '</option>'
  ))
  for(let i = rangeMin; i < rangeMax+rangeMin; i = i + rangeMin){
    $('#m-i').append($('<option>'
    , { value: i,
        text : `Last ${i} ${group}s`,
    }, '</option>'
    ));
    $('#m-i').selectpicker('refresh');
  }
}

// Create a function that will handle AJAX requests
function requestData(days, chart, group, fn){
  interval = days
  $.ajax({
    type: "GET",
    dataType: 'json',
    url: "http://127.0.0.1:8000/apis", // This is the URL to the API
    data: { interval: days, group, show: show }
  })
  .done(function( data ) {
    let dataKey = [{"id":1,"branch_id":1,"name":"Special_Offering","created_at":"2022-05-04T00:32:17.000000Z","updated_at":"2022-05-04T00:32:17.000000Z"},{"id":2,"branch_id":1,"name":"Special_offering","created_at":"2022-05-04T00:32:41.000000Z","updated_at":"2022-05-04T00:32:41.000000Z"}];
    // When the response to the AJAX request comes back render the chart with new data
    $('#manual-analysis-hd').html(manual_analysis_hd({group, interval: days, data, c_types: [{"id":1,"branch_id":1,"name":"Special_Offering","created_at":"2022-05-04T00:32:17.000000Z","updated_at":"2022-05-04T00:32:17.000000Z"},{"id":2,"branch_id":1,"name":"Special_offering","created_at":"2022-05-04T00:32:41.000000Z","updated_at":"2022-05-04T00:32:41.000000Z"}]}))
    let calcData = {}
    let total = 0;
    // initialize calcData
    dataKey.map((v) => { calcData[v.name] = 0} )
    data.map((v) => {
      dataKey.map((col) => { calcData[col.name] += v[col.name]; total += v[col.name] })
    })
    dataKey.map((v) => {
      $(`#collection-${v.name}`).html(numberWithCommas(calcData[v.name]))
    })
    $("#collection-total").html(numberWithCommas(total))
    chart.setData(data);
  })
  .fail(function() {
    // If there is no communication between the server, show an error
    alert( "error occured" );
  });
}

$(document).ready(() => {
  var chart = Morris.Bar({
    // ID of the element in which to draw the chart.
    element: 'stats-container',
    data: [0, 0], // Set initial data (ideally you would provide an array of default data)
    xkey: 'y', // Set the key for X-axis
    ykeys: ['Special_Offering','Special_offering',],
    labels: ['Special Offering','Special Offering',],
    hideHover: 'auto',
    xLabelAngle:25,
    barColors: ['#FF0000','#00FF00','#0000FF','#FFFF00','#00FFFF','#FF00FF','#C0C0C0','#808080','#800000','#808000','#008000','#800080','#008080','#A52A2A','#000080',],
  });

  // Request initial data for the past 7 days:
  requestData(interval, chart, group);

  $('ul.ranges a').click(function(e){
    e.preventDefault();

    // Get the number of days from the data attribute
    var el = $(this);
    // remove classes from all
    $('ul li').not(this).removeClass('active');
    $(el).parent().toggleClass('active');
    days = el.attr('data-range');

    // Request the data and render the chart using our handy function
    requestData(days, chart, group);
  })

  $('#m-i').change((e) => {
    var el = e.target;
    requestData(el.value, chart, group);
  })

  $('#show').change((e) => {
    show = e.target.value
    requestData(8, chart, group);
  })

  $('#group').change((e) => {
    let value = e.target.value;
    switchSelect(value)
    // group = value
    // requestData(el.value, chart, group);
  })
})
</script>
<script>
// let male = [["Jan", 0], ["Feb", 0], ["Mar", 0], ["Apr", 0], ["May", 0], ["Jun", 0], ["Jul", 0], ["Aug", 0], ["Sep", 0], ["Oct", 0], ["Nov", 0], ["Dec", 0]];
// female = [["Jan", 0], ["Feb", 0], ["Mar", 0], ["Apr", 0], ["May", 0], ["Jun", 0], ["Jul", 0], ["Aug", 0], ["Sep", 0], ["Oct", 0], ["Nov", 0], ["Dec", 0]];
var monthName = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov","Dec"]
var colors = ['#FF0000','#00FF00','#0000FF','#FFFF00','#00FFFF','#FF00FF','#C0C0C0','#808080','#800000','#808000','#008000','#800080','#008080','#A52A2A','#000080',];
var months = []
let incr = 11
let i = 0
while (incr >= 0) {
  let makeDate = new Date();
  months[incr] = monthName[new Date(makeDate.setMonth(makeDate.getMonth() - i)).getMonth()]; //1 week ago
  i++; incr--
}
// console.log(months);
var ticks = []
months.map((v,i) => {
 ticks.push([i, v])
})
function setPeriod(data, totalObj, dataKey){
  let newarr = dataKey.map(() => [])
  // console.log(newarr);
  newarr.total = totalObj
  newarr.total.total = 0
  let i = 0;
    data.map((v) => {
      // push array to the first index of the new array
      dataKey.map((key,l) => {
        // get the index of the data month from months array
        // let getDIndex = 12 - v['month']
        // console.log(getDIndex, v['month']);
        newarr[l].push([v['month'], parseInt(v[key])])
        // newarr[l][v['month']] = [v['month'], parseInt(v[key])]
        // newarr[l].push([getDIndex, parseInt(v[key])])
        // calculate each datakey
        newarr.total[key] += parseInt(v[key])
        // calculate total
        newarr.total.total += parseInt(v[key])
      })
      i++
    })
// console.log(newarr);
  return newarr
}

function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function formatMoney(number) {
  return number.toLocaleString('en-US', { style: 'currency', currency: 'PHP' });
}

$(document).ready(() => {
  // get branch due commision
  $.ajax({url: "http://127.0.0.1:8000/branches/unsettled"})
  .done((res) => {
    $('#due-commission').html(formatMoney(parseFloat(res)))
  })
  // get member registration statistics
  $.ajax({url: "http://127.0.0.1:8000/member/stats"})
  .done((res) => {
    members = setPeriod(res, {male: 0, female: 0, total: 0}, ["male", "female"])
    // display calulations
    $("#member-male").html(numberWithCommas(members.total.male))
    $("#member-female").html(numberWithCommas(members.total.female))
    $("#member-total").html(numberWithCommas(members.total.total))
    // console.log(members);
    $.plot("#users-chart", members, {
        series: {
            stack: 1,
            lines: {
                show: false,
                fill: true,
                steps: false
            },
            bars: {
                show: true,
                lineWidth: 0,
                barWidth: .7,
                fillColor: { colors: [ { opacity: .9 }, { opacity: .9 } ] }
            }
        },
        colors: colors,
        grid: {
            borderWidth: 0,
            hoverable: true,
            clickable: true
        },
        yaxis: {
            ticks: 4,
             tickColor: '#f0f7fa'
        },
        xaxis: {
            ticks: ticks,
            tickColor: '#ffffff'
        },
    });
    // console.log(male);
    // console.log(res);
  })

  // get attendance statistics
  $.ajax({url: "http://127.0.0.1:8000/attendance/stats"})
  .done((res) => {
    attendance = setPeriod(res, {male: 0, female: 0, children: 0, total: 0}, ["male", "female", "children"])
    console.log(attendance);
    // display calulations
    $("#attendance-male").html(numberWithCommas(attendance.total.male))
    $("#attendance-female").html(numberWithCommas(attendance.total.female))
    $("#attendance-children").html(numberWithCommas(attendance.total.children))
    $("#attendance-total").html(numberWithCommas(attendance.total.total))
    $.plot("#attendance-chart", attendance, {
        series: {
            stack: 1,
            lines: {
                show: false,
                fill: true,
                steps: false
            },
            bars: {
                show: true,
                lineWidth: 0,
                barWidth: .7,
                fillColor: { colors: [ { opacity: .9 }, { opacity: .9 } ] }
            }
        },
        colors: colors,
        grid: {
            borderWidth: 0,
            hoverable: true,
            clickable: true
        },
        yaxis: {
            ticks: 4,
             tickColor: '#f0f7fa'
        },
        xaxis: {
            ticks: ticks,//attendance[0].length,
            tickColor: '#ffffff'
        }
    });
  })

  // get member registration statistics
  $.ajax({url: "http://127.0.0.1:8000/collection/stats"})
  .done((res) => {
    collections = (() => {
      let newarr = []
      let dataKey = [{"id":1,"branch_id":1,"name":"Special_Offering","created_at":"2022-05-04T00:32:17.000000Z","updated_at":"2022-05-04T00:32:17.000000Z"},{"id":2,"branch_id":1,"name":"Special_offering","created_at":"2022-05-04T00:32:41.000000Z","updated_at":"2022-05-04T00:32:41.000000Z"}];
      newarr.total = {total: 0}
      // console.log(newarr);
      dataKey.map((v) => { newarr.total[v.name] = 0; newarr.push([])})
      let i = 0;
        res.map((v) => {
          // push array to the first index of the new array
          dataKey.map((key,l) => {
            // get the index of the data month from months array
            newarr[l].push([v['month'], parseInt(v[key.name])])
            // calculate each datakey
            newarr.total[key.name] += parseInt(v[key.name])
            // calculate total
            newarr.total.total += parseInt(v[key.name])
          })
          i++
        })

        return newarr
    })()

    $.plot("#collection-chart", collections, {
        series: {
            stack: 1,
            lines: {
                show: false,
                fill: true,
                steps: false
            },
            bars: {
                show: true,
                lineWidth: 0,
                barWidth: .7,
                fillColor: { colors: [ { opacity: .9 }, { opacity: .9 } ] }
            }
        },
        colors: colors,
        grid: {
            borderWidth: 0,
            hoverable: true,
            clickable: true
        },
        yaxis: {
            ticks: 4,
             tickColor: '#f0f7fa'
        },
        xaxis: {
            ticks: ticks,
            tickColor: '#ffffff'
        },
    });
    // console.log(male);
    // console.log(res);
  })
  // plot datatables
  $('#owning-table').DataTable()
  $('#due-collection').DataTable()
  $('#dobs').DataTable()
  $('#anniversaries').DataTable()
  $('#order-table').DataTable({
    processing: true,
    serverSide: true,
    "columnDefs": [
      { "orderable": false, "targets": 0 }
    ],
    oLanguage: {sProcessing: `loading...`},
    ajax: "http://127.0.0.1:8000/payments",
    columns: [
      { title: 'Invoice', data: 'id', render : ( data ) => (`Order #${data}`), name: 'reference' },
      { title: 'Branch', data: 'users.branchname', name: 'branchname'},
      { title: 'Order Date', data: {payed_at: 'payed_at', created_at: 'created_at'}, name: 'payed_at', render : ( data ) => (`${data.payed_at ? data.payed_at : data.created_at}`)},
      { title: 'Amount', data: 'amount', name: 'amount', render : ( data ) => (`${numberWithCommas(data)}`)},
      { title: 'Status', data: 'status', name: 'status', render : ( data ) => (`<td class="text-center">
        <div class="label label-table label-${data === '1' ? 'success' : data === 'pending' ? 'warning' : 'danger'}">${data === '1' ? 'Paid' : data }</div>
      </td>`),},
      { title: 'Reference', data: 'reference', name: 'reference'},
    ],
    dom: 'Bfrtip',
    lengthChange: false,
    // buttons: ['copy', 'excel', 'pdf', 'colvis']
  })
})
</script>

</body>
</html>
